(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Video=function(){function Video(){var quality=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"auto";_classCallCheck(this,Video);this.selectedQuality=quality;this.type;this.fps;this.props={};this.url;this.files}_createClass(Video,[{key:"requestVideo",value:function requestVideo(vimeoVideoID){var _this=this;if(!vimeoVideoID){console.warn("[Client] Can not request a video without providing a video ID");return}return new Promise(function(resolve,reject){fetch("/video/"+vimeoVideoID).then(function(response){response.json().then(function(obj){if(response.status===200){if(obj.play==null){reject("[Vimeo] No video file found")}_this.files=obj.play;if(Util.isJSON(obj)){_this.props=JSON.parse(obj.description);_this.type=DepthType.DepthKit}else{_this.props=null;_this.type=DepthType.RealSense}if(_this.selectedQuality==="auto"){if(Util.isiOS()){if(obj.live.status==="streaming"){_this.selectedQuality="hls"}else{_this.selectedQuality="progressive";for(var file in _this.files.progressive){if(_this.files.progressive[file].width>600&&_this.files.progressive[file].width<1e3){_this.selectedQuality=_this.files.progressive[file].width}}}}else{_this.selectedQuality="dash"}console.log("[Vimeo] Selected quality: "+_this.selectedQuality)}if(_this.selectedQuality==="hls"){if(_this.files.hls.link){_this.url=_this.files.hls.link}else{console.warn("[Vimeo] Requested an HLS stream but none was found")}}else if(_this.selectedQuality==="dash"){if(_this.files.dash&&_this.files.dash.link){_this.url=_this.files.dash.link}else{console.warn("[Vimeo] Requested a DASH stream but none was found")}}else{if(_this.type===DepthType.DepthKit){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_this.files.progressive[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _file=_step.value;if(_file.width===_this.selectedQuality){_this.url=_file.link;_this.fps=_file.fps;_this.props.textureWidth=_file.width;_this.props.textureHeight=_file.height}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}}resolve({url:_this.url,selectedQuality:_this.selectedQuality,props:_this.props,type:_this.type,fps:_this.fps})}else{reject(response.status)}})})})}}]);return Video}();exports.default=API},{}],2:[function(require,module,exports){"use strict";var _vimeoVideo=require("./components/vimeo-video");var _vimeoVideo2=_interopRequireDefault(_vimeoVideo);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Vimeo={Video:_vimeoVideo2.default};if(window.THREE){window.Vimeo=Vimeo}else{console.warn("[Depth Player] three.js was not found, did you forget to include it?")}},{"./components/vimeo-video":1}]},{},[2]);